<script type="text/html" id="personalInformationTmpl">
    <div class="horizontalSection noborder">
        <div class="pageWidth">
            <!-- ko template: { name: 'registrationDataTmpl', data: registrationData } --><!-- /ko -->
            <!-- ko template: { name: 'registrationDataFormTmpl', data: registrationData } --><!-- /ko -->
                     
            <!-- ko template: { name: 'postDataTmpl', data: postalAddress } --><!-- /ko -->
            <!-- ko template: { name: 'postDataFormTmpl', data : postalAddress } --><!-- /ko -->
            
            <!-- ko template: { name: 'contactsDataFormTmpl', data: contacts } --><!-- /ko -->
        </div>
    </div>
</script>

<script type="text/html" id="registrationDataTmpl">
    <div class="floatFieldsFormSetion" data-bind="visible: isEditBlock() == 0">
        <div class="formSetionHeader">Регистрационные данные</div>
            <div class="floatFields4columns">
                <div class="formItem">
                    <label>Псевдоним:</label>
                    <span class="formValue"><!-- ko text: username --><!-- /ko --></span>
                </div>
                <div class="formItem">
                    <label>Дата регистрации:</label>
                    <!-- ko if: dateRegistration-->
                        <span class="formValue"><!-- ko text: dateRegistration --><!-- /ko --> г.</span>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Пол:</label>
                    <span class="formValue"><!-- ko text: genderText --><!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Ф.И. О.</label>
                    <span class="formValue"><!-- ko text: fullName --><!-- /ko --></span>
                </div>
                <div class="formItem">
                    <label>Дата рождения:</label>
                    <!-- ko if: birthDay -->
                        <span class="formValue"><!-- ko text: birthDay --><!-- /ko --> г</span>
                    <!-- /ko-->
                </div>
                <div class="formItem">
                    <label>Рейтинг:</label>
                    <!-- ko if: birthDay -->
                        <span class="formValue"><!-- ko text: rating--><!-- /ko --> балла</span>
                    <!-- /ko -->
                </div>
                <div class="clear"></div>
                
                <div class="formButBox">
                    <input class="addButton" type="submit"  data-bind="click: Edit" value="Изменить">
                    <!-- ko if: checkInfo() == 'yes' -->
                        Регистрационные данные подтверждены
                    <!-- /ko -->
                    <!-- ko if: checkInfo() == 'no' -->
                        Регистрационные данные не подтверждены
                    <!-- /ko -->
                </div>
                
                <div class="clear"></div>
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="registrationDataFormTmpl">
    <div class="floatFieldsFormSetion" data-bind="visible: isEditBlock() == 1">
        <div class="formSetionHeader">Регистрационные данные</div>
        <form data-bind="attr: {id: cssRegistrationDataForm}" method="POST" target="upload_target" enctype="multipart/form-data">
            <div class="floatFields4columns">
                <div class="formItem">
                    <label>Фамилия</label>
                    <input name="sname" type="text" id="textfield" data-bind="value: lastNameField" />
                    <!-- ko if: errorLastName-->
                        <div class="form_error" data-bind="text: errorLastName"></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Имя</label>
                    <input name="fname" type="text" id="textfield" data-bind="value: firstNameField" />
                    <!-- ko if: errorFirstName-->
                        <div class="form_error" data-bind="text: errorFirstName"></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Отчество</label>
                    <input name="mname" type="text" id="textfield" data-bind="value: middleNameField"/>
                    <!-- ko if: errorMiddleName-->
                        <div class="form_error" data-bind="text: errorMiddleName"></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Дата рождения:</label>
                    <input type="text" id="textfield"data-bind="value: birthDayField, attr: {id: cssBirthDay}" />
                    <input name="bdate" type="hidden" data-bind="value: birthDayHiddenField" />
                    <!-- ko if: errorBirthDay-->
                        <div class="form_error" data-bind="text: errorBirthDay"></div>
                    <!-- /ko -->
                </div>
                <!-- ko ifnot: gender() -->
                <div class="formItem">
                    <label>Ваш пол:</label>
                    <label><input name="gender" type="radio" value="m" data-bind="checked: gender"/>Мужчина</label> 
                    <label><input name="gender" type="radio" value="w" data-bind="checked: gender"/>Женщина</label>
                    <!-- ko if: errorGender-->
                        <div class="form_error" data-bind="text: errorGender"></div>
                    <!-- /ko -->
                </div>
                <!-- /ko -->
                <div class="formItem">
                    <label>Аватар:</label>
                    <input name="avatar" type="file" id="textfield" />
                </div>
                
                <div class="clear"></div>
                <div class="formButBox">
                    <input class="addButton" type="submit" value="Сохранить" data-bind="click: Submit"/>
                    <input class="subButton" type="submit" value="Не Сохранять" data-bind="click: Back"/>
                </div>
                <div class="clear"></div>
            </div>
        </form>
    </div>
</script>

<script type="text/html" id="postDataTmpl">
    <div class="floatFieldsFormSetion" data-bind="visible: isEditBlock() == 0">
        <div class="formSetionHeader">Почтовый адрес</div>
            <div class="floatFields4columns">
                <div class="formItem">
                    <label>Страна:</label>
                    <span class="formValue"><!-- ko text: countryText --><!-- /ko --></span>
                </div>
                <div class="formItem">
                    <label>Регион:</label>
                    <span class="formValue"><!-- ko text: regionText --><!-- /ko --></span>
                </div>
                <div class="formItem">
                    <label>Город:</label>
                    <span class="formValue"><!-- ko text: cityText --><!-- /ko --></span>
                </div>
                <div class="formItem">
                    <label>Почтовый индекс.</label> 
                    <span class="formValue"><!-- ko text: postIndexText --><!-- /ko --></span>
                </div>
                <div class="formItem">
                    <label>Адрес:</label>
                    <span class="formValue"><!-- ko text: addressText --><!-- /ko --></span>
                </div>

                <div class="clear"></div>
                
                <div class="formButBox">
                    <input class="addButton" type="submit"  data-bind="click: Edit" value="Изменить">
                    <!-- ko if: checkInfo() == 'yes' -->
                        Почтовый адрес подтвержден
                    <!-- /ko -->
                    <!-- ko if: checkInfo() == 'no' -->
                        Почтовый адрес не подтвержден
                    <!-- /ko -->
                </div>
                
                <div class="clear"></div>
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="postDataFormTmpl">
    <div class="floatFieldsFormSetion" data-bind="visible: isEditBlock() == 1, attr: {id : cssPostAddressForm }">
        <div class="formSetionHeader">Почтовый адрес</div>
            <div class="floatFields4columns">
                <div class="formItem">
                    <label>Страна:</label>
                    <div>
                        <select id="country_list_profile" class="form_select" data-bind="value: idCountry, attr: {id: cssCountryList}">
                            <option value=""></option>
                            <!-- ko foreach: countryList -->
                            <option data-bind="text: name, value: id"></option>
                            <!-- /ko -->
                        </select>
                    </div>
                    <!-- ko if: errorCountry-->
                        <div class="form_error" data-bind="text: errorCountry"></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Регион:</label>
                    <input name="textfield" type="text" id="textfield" data-bind="value: customRegion, attr: {id: cssRegionList}, enable: country"/>
                    <!-- ko if: errorRegion-->
                        <div class="form_error" data-bind="text: errorRegion"></div>"
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Город:</label>
                    <input name="textfield" type="text" id="textfield" data-bind="value: customCity, attr: {id: cssCityList}, enable: customRegion"/>
                    <!-- ko if: errorCity-->
                        <div class="form_error" data-bind="text: errorCity"></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Адрес:</label>
                    <input name="textfield" type="text" id="textfield" data-bind="value: customAddress, attr: {id: cssAddress}, enable: customCity"/>                  
                    <!-- ko if: errorAddress-->
                        <div class="form_error" data-bind="text: errorAddress"></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Почтовый индекс.</label> 
                    <input name="textfield" type="text" id="textfield" data-bind="value: postIndex, attr: {id: cssPostIndex}"/>
                    <!-- ko if: errorPostIndex-->
                        <div class="form_error" data-bind="text: errorPostIndex"></div>
                    <!-- /ko -->
                </div>
                
                <div class="clear"></div>
                <div class="formButBox">
                    <input class="addButton" type="submit" value="Сохранить" data-bind="click: Submit"/>
                    <input class="subButton" type="submit" value="Не Сохранять" data-bind="click: Back"/>
                </div>
                <div class="clear"></div>
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="contactsDataFormTmpl">
    <div class="floatFieldsFormSetion">
        <div class="formSetionHeader">Контактные данные</div>
            <div class="floatFields4columns">
                <div class="formItem">
                    <label>Е-маил:</label>
                    <span data-bind="visible: emailIsConfirm(), text: email"></span>
                    <input name="textfield" type="text" id="textfield" data-bind="value: email, visible: !emailIsConfirm()" />
                    <!-- ko if: errorEmail-->
                        <div class="form_error" data-bind="text: errorEmail"></div>
                    <!-- /ko -->
                    <div data-bind="visible: emailIsConfirm()">E-mail подтвержден</div>
                    <div data-bind="visible: !emailIsConfirm()">
                        <div data-bind="visible: isExistEmail">
                            <a href="#" data-bind="click: SendMailToken">Выслать код подтверждения</a>
                        </div>
                        <span class="row row_left" data-bind="visible: sentEmailCode">
                            <label>E-mail код:</label> 
                            <input name="textfield" type="text" id="textfield" data-bind="value:emailToken" />
                            <!-- ko if: errorEmailToken-->
                                <div class="form_error" data-bind="text: errorEmailToken"></div>
                            <!-- /ko -->
                        </span>
                        <a href="#" data-bind="click: SubmitMailToken, visible: sentEmailCode">Подтвердить</a></td>
                    </div>
                </div>
                <div class="formItem">
                    <label>Телефон:</label>
                    <span data-bind="visible: phoneIsConfirm(), text: phone"></span>
                    <input name="textfield" type="text" id="textfield" data-bind="value: phone, visible: !phoneIsConfirm(), attr: {id : cssPhone}" />
                    <!-- ko if: errorPhone-->
                        <div class="form_error" data-bind="text: errorPhone"></div>
                    <!-- /ko -->
                    <div data-bind="visible: phoneIsConfirm()">Телефон подтвержден</div>
                    <div data-bind="visible: !phoneIsConfirm()">
                        <div  data-bind="visible: isExistPhone">
                            <a href="#" data-bind="click: SendPhoneToken">Выслать код подтверждения</a>
                        </div>
                        <span class="row row_left"  data-bind="visible: sentCode">
                            <label>SMS код:</label> 
                            <input name="textfield" type="text" id="textfield" data-bind="value: phoneToken" />
                            <!-- ko if: errorPhoneToken-->
                                <div class="form_error" data-bind="text: errorPhoneToken"></div>
                            <!-- /ko -->
                        </span>
                        <a href="#" data-bind="click: SubmitPhoneToken, visible: sentCode">Подтвердить</a>
                    </div>
                </div>
                
                <div class="clear"></div>
                <div class="formButBox" data-bind="visible: !phoneIsConfirm() || !emailIsConfirm()">
                    <input class="addButton" type="submit" value="Сохранить" data-bind="click: SubmitForm"/>
                </div>
                <div class="clear"></div>
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="deliveryAddressTmpl">
    <div class="horizontalSection noborder">
        <div class="pageWidth">
            <h1>Выберите адрес доставки</h1>
             
            <div class="listBox">
                <div style="float:left; margin:0px 0px 10px 0px;">
                    <a href="#" class="addButton" data-bind="click: ClickAddAddress">Добавить новый адрес</a>
                </div>
                
                <div class="clear"></div>
                
                <!-- ko template: { name: 'deliveryAddressListTmpl' } --><!-- /ko -->
                
                <div class="clear"></div>

                <div class="paginationBox">
                    <div class="adres_counter">Адресов: <!-- ko text: addressList().length --><!-- /ko --></div>
                    <div class="clear"></div>
                </div>

                <div class="clear"></div>
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="deliveryAddressListTmpl">
    <table cellpadding="0" cellspacing="0" class="listTable">
        <tr class="listTableHeader">
            <td>Адрес</td>
            <td>Почт. индекс</td>
            <td>Страна</td>
            <td>Регион</td>
            <td>Город</td>
            <td>Получатель</td>
            <td>Основной</td>
            <td></td>
            <td></td>
        </tr>
        <!-- ko foreach: addressList -->
        <tr class="listTableRow" data-bind="click: ClickItem, css: cssIsDefault()">
            <td data-bind="text: address"></td>
            <td data-bind="text: postIndex"></td>
            <td data-bind="text: country"></td>
            <td data-bind="text: region"></td>
            <td data-bind="text: city"></td>
            <td>
                <p data-bind="text: addressee"></p>
                <p data-bind="text: contactPhone"></p>
            </td>
            <td align="center">
                <!-- ko if: isDefault()-->
                <input class="addrN" type="radio" name="is_default" data-bind="attr : {checked: 'checked' }, value: id, checked: $parent.checked" >
                <!-- /ko -->
                <!-- ko ifnot: isDefault()-->
                <input class="addrN" type="radio" name="is_default" data-bind="value: id, checked: $parent.checked" >
                <!-- /ko -->
            </td>
            <td align="center" >
                <a href="#" data-bind="click: Edit" class="editButton" title="Изменить"></a></br/>
            </td>
            <td align="center" >
                <!-- ko if: id -->
                <a href="#" data-bind="click: Delete" class="deleleButton" title="Удалить из списка"></a>
                <!-- /ko -->
            </td>
        </tr>
        <!-- /ko -->
    </table>
</script>

<script type="text/html" id="deliveryAddressFormTmpl">
    <div class="floatFieldsFormSetion">
        <div class="pageWidth">
            <div class="formSetionHeader">Адрес доставки</div>
            <div class="floatFields4columns">
                <div class="formItem">
                    <label>Страна:</label>
                    <div>
                        <select id="delivery_country_list" class="form_select" data-bind="value: idCountry, attr: {id: cssCountryList}">
                            <option value=""></option>
                            <!-- ko foreach: countryList -->
                            <option data-bind="text: name, value: id"></option>
                            <!-- /ko -->
                        </select>
                    </div>
                    <!-- ko if: errorCountry -->
                        <div class="form_error" data-bind="text: errorCountry "></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Регион:</label>
                    <input name="textfield" type="text" id="textfield" data-bind="value: customRegion, attr: {id: cssRegionList}, enable: country"/>
                    <!-- ko if: errorRegion-->
                        <div class="form_error" data-bind="text: errorRegion"></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Город:</label>
                    <input name="textfield" type="text" id="textfield" data-bind="value: customCity, attr: {id: cssCityList}, enable: customRegion"/>
                    <!-- ko if: errorCity-->
                        <div class="form_error" data-bind="text: errorCity"></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Адрес:</label>
                    <input name="textfield" type="text" id="textfield" data-bind="value: customAddress, attr: {id: cssAddress}, enable: customCity"/>                  
                    <!-- ko if: errorAddress-->
                        <div class="form_error" data-bind="text: errorAddress"></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Почтовый индекс.</label> 
                    <input name="textfield" type="text" id="textfield" data-bind="value: postIndex, attr: {id: cssPostCode}"/>
                    <!-- ko if: errorPostCode-->
                        <div class="form_error" data-bind="text: errorPostCode"></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Получатель:</label>
                    <input name="textfield" type="text" id="textfield" data-bind="value: addressee"/>
                    <!-- ko if: errorAddressee-->
                        <div class="form_error" data-bind="text: errorAddressee"></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Контактный телефон:</label>
                    <input name="textfield" type="text" id="textfield" data-bind="value: contactPhone, attr:{id:cssContactPhone}" />
                    <!-- ko if: errorContactPhone-->
                        <div class="form_error" data-bind="text: errorContactPhone"></div>
                    <!-- /ko -->
                </div>
                <div class="formItem">
                    <label>Основной адрес:</label>
                    <input name="textfield" type="checkbox" id="textfield" data-bind="checked: isDefault" />
                </div>

                <div class="clear"></div>

                <div class="formButBox">
                    <!-- ko ifnot: id -->
                    <input class="addButton" type="submit" value="Сохранить" data-bind="click: Submit"/>
                    <!-- /ko -->
                    <!-- ko if: id -->
                    <input class="addButton" type="submit" value="Сохранить" data-bind="click: Edit"/>
                    <!-- /ko -->
                    <input class="subButton" type="submit" value="Назад" data-bind="click: Back"/>
                </div>

                <div class="clear"></div>
            </div>
        </div>
    </div>
</script>
    
<script type="text/html" id="securityTmpl">
    <div class="floatFieldsFormSetion">
        <div class="pageWidth">
            <div class="formSetionHeader">Изменить пароль</div>
            <div class="floatFields4columns">
                <form data-bind="attr: {id: cssSequrityForm}" method="POST" target="upload_target" enctype="multipart/form-data">
                    <div class="formItem">
                        <label>Старый пароль:</label>
                        <input name="password" type="password" data-bind="value: oldPassword, attr : {id: cssOldPassword}"/>
                        <!-- ko if: errorOldPassword-->
                            <div class="form_error" data-bind="text: errorOldPassword"></div>
                        <!-- /ko -->
                    </div>
                    <div class="formItem">
                        <label>Новый пароль:</label>
                        <input name="new_password" type="password" data-bind="value: newPassword, attr : {id: cssNewPassword}"/>
                        <!-- ko if: errorNewPassword-->
                            <div class="form_error" data-bind="text: errorNewPassword"></div>
                        <!-- /ko -->
                    </div>
                    <div class="formItem">
                        <label>Повтор нового пароля:</label>
                        <input type="password" data-bind="value: confirmPassword, attr : {id: cssConfirmPassword}"/>
                        <!-- ko if: errorConfirmPassword-->
                            <div class="form_error" data-bind="text: errorConfirmPassword"></div>
                        <!-- /ko -->
                    </div>
                    
                    <div class="clear"></div>
                    <div class="formButBox">
                        <input class="addButton" type="submit" value="Сохранить" data-bind="click: Submit"/>
                    </div>
                    <div class="clear"></div>
                </form>
            </div>
        </div>
    </div>
</script>