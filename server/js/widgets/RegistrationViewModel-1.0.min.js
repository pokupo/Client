var RegistrationFormViewModel=function(){function r(){var r=!0;return e()||(r=!1),o()||(r=!1),n()||(r=!1),t()||(r=!1),i()||(r=!1),a()||(r=!1),r}function e(){return s.username()?s.username().length<3?(s.errorUsername(Config.Registration.error.username.minLength),!1):s.username().length>40?(s.errorUsername(Config.Registration.error.username.maxLength),!1):Config.Registration.regular.username.test(s.username())?(s.errorUsername(null),!0):(s.errorUsername(Config.Registration.error.username.regular),!1):(s.errorUsername(Config.Registration.error.username.empty),!1)}function o(){return s.email()?s.email().length>64?(s.errorUsername(Config.Registration.error.email.maxLength),!1):Config.Registration.regular.email.test(s.email())?(s.errorEmail(null),!0):(s.errorEmail(Config.Registration.error.email.regular),!1):(s.errorEmail(Config.Registration.error.email.empty),!1)}function n(){return s.phone()&&!Config.Registration.regular.phone.test($.trim(s.phone()))?(s.errorPhone(Config.Registration.error.phone.regular),!1):(s.errorPhone(null),!0)}function t(){return s.firstPassword($("input#"+s.cssFirstPassword).val()),s.firstPassword()?s.firstPassword().length<6?(s.errorFirstPassword(Config.Registration.error.password.minLength),!1):s.firstPassword().length>64?(s.errorFirstPassword(Config.Registration.error.password.maxLength),!1):(s.errorFirstPassword(null),!0):(s.errorFirstPassword(Config.Registration.error.password.empty),!1)}function i(){return s.secondPassword($("input#"+s.cssSecondPassword).val()),s.secondPassword()?s.firstPassword()!=s.secondPassword()?(s.errorSecondPassword(Config.Registration.error.password.equal),!1):(s.errorSecondPassword(null),!0):(s.errorSecondPassword(Config.Registration.error.password.empty),!1)}function a(){return s.isChecked()?(s.errorIsChecked(null),!0):(s.errorIsChecked(Config.Registration.error.isChecked.empty),!1)}var s=this;s.username=ko.observable(null),s.errorUsername=ko.observable(null),s.email=ko.observable(null),s.errorEmail=ko.observable(null),s.cssPhone="phone",s.phone=ko.observable(null),s.errorPhone=ko.observable(null),s.cssFirstPassword="firstPassword",s.firstPassword=ko.observable(null),s.errorFirstPassword=ko.observable(null),s.cssSecondPassword="secondPassword",s.secondPassword=ko.observable(null),s.errorSecondPassword=ko.observable(null),s.isChecked=ko.observable(!1),s.errorIsChecked=ko.observable(null),s.submitEvent=ko.observable(),s.agreement="http://"+window.location.hostname+"/rules",s.police="http://"+window.location.hostname+"/police",s.refund="http://"+window.location.hostname+"/refund",s.RestoreAccess=function(){},s.SubmitForm=function(){r()&&EventDispatcher.DispatchEvent(s.submitEvent(),s)}},RegistrationConfirmFormViewModel=function(r){function e(r,e){EventDispatcher.DispatchEvent(r,e)}function o(){var r=!0;return n()||(r=!1),t()||(r=!1),i()||(r=!1),r}function n(){return a.mailToken($.trim(a.mailToken())),a.mailConfirmLater()||a.mailToken()?(a.errorEmailConfirm(null),!0):(a.errorEmailConfirm(Config.Registration.error.emailToken.empty),!1)}function t(){return a.phoneConfirmLater()||a.phoneToken()?(a.errorPhoneConfirm(null),!0):(a.errorPhoneConfirm(Config.Registration.error.phoneToken.empty),!1)}function i(){return a.phoneConfirmLater()&&a.mailConfirmLater()?(a.errorConfirmLater(Config.Registration.error.confirmLater.empty),a.errorEmailConfirm(null),a.errorPhoneConfirm(null),!1):(a.errorConfirmLater(null),!0)}var a=this;a.username=r.username(),a.cssMailToken="mail_token_block",a.mailToken=ko.observable(),a.mailIsConfirm=ko.observable(!1),a.errorEmailConfirm=ko.observable(null),a.mailConfirmLater=ko.observable(!1),a.cssPhoneToken="phone_token_block",a.phoneToken=ko.observable(),a.phoneIsConfirm=ko.observable(!1),a.errorPhoneConfirm=ko.observable(null),a.phoneConfirmLater=ko.observable(!1),a.errorConfirmLater=ko.observable(null),a.isEmptyPhone=ko.computed(function(){return!$.isEmptyObject(r)&&r.phone()?!1:(a.phoneConfirmLater(!0),!0)},this),a.submitEvent=ko.observable(),a.viewButtonSendToken=ko.observable(!1),a.ShowButtonSendToken=function(){a.viewButtonSendToken(!1),setTimeout(function(){a.viewButtonSendToken(!0)},6e4)},a.ClickSendPhoneToken=function(){a.ShowButtonSendToken(),e("OrderWidget.send.token","sms")},a.ClickSendMailToken=function(){a.ShowButtonSendToken(),e("OrderWidget.send.token","mail")},a.SubmitForm=function(){o()&&e(a.submitEvent(),a)}},RegistrationProfileFormViewModel=function(){function r(){var r=!0;return e()||(r=!1),o()||(r=!1),n()||(r=!1),t()||(r=!1),i()||(r=!1),r}function e(){return a.firstName()?a.firstName().length<2?(a.errorFirstName(Config.Registration.error.firstName.minLength),!1):a.firstName().length>20?(a.errorFirstName(Config.Registration.error.firstName.maxLength),!1):Config.Registration.regular.firstName.test(a.firstName())?(a.errorFirstName(null),!0):(a.errorFirstName(Config.Registration.error.firstName.regular),!1):(a.errorFirstName(Config.Registration.error.firstName.empty),!1)}function o(){return a.lastName()?a.lastName().length<2?(a.errorLastName(Config.Registration.error.lastName.minLength),!1):a.lastName().length>20?(a.errorLastName(Config.Registration.error.lastName.maxLength),!1):Config.Registration.regular.lastName.test(a.lastName())?(a.errorLastName(null),!0):(a.errorLastName(Config.Registration.error.lastName.regular),!1):(a.errorLastName(Config.Registration.error.lastName.empty),!1)}function n(){if(a.middleName()){if(a.middleName().length<2)return a.errorMiddleName(Config.Registration.error.middleName.minLength),!1;if(a.middleName().length>20)return a.errorMiddleName(Config.Registration.error.middleName.maxLength),!1;if(!Config.Registration.regular.middleName.test(a.middleName()))return a.errorMiddleName(Config.Registration.error.middleName.regular),!1}return a.errorMiddleName(null),!0}function t(){if(!a.birthDay())return a.errorBirthDay(Config.Registration.error.birthDay.empty),!1;if(!Config.Registration.regular.birthDay.test(a.birthDay()))return a.errorBirthDay(Config.Registration.error.birthDay.regular),!1;var r=a.birthDay().split("."),e=new Date(r[2],r[1]-1,r[0]),o=new Date,n=new Date(o.getYear()-18,o.getMonth(),o.getDate());if(e>n)return a.errorBirthDay(Config.Registration.error.birthDay.minDate),!1;var o=new Date,t=new Date(o.getYear()-101,o.getMonth(),o.getDate());return t>e?(a.errorBirthDay(Config.Registration.error.birthDay.maxDate),!1):(a.errorBirthDay(null),!0)}function i(){return a.gender()?Config.Registration.regular.gender.test(a.gender())?(a.errorGender(null),!0):(a.errorGender(Config.Registration.error.gender.regular),!1):(a.errorGender(Config.Registration.error.gender.empty),!1)}var a=this;a.lastName=ko.observable(),a.errorLastName=ko.observable(null),a.firstName=ko.observable(),a.errorFirstName=ko.observable(null),a.middleName=ko.observable(),a.errorMiddleName=ko.observable(null),a.birthDay=ko.observable(),a.birthDayHiddenField=ko.observable(),a.errorBirthDay=ko.observable(null),a.cssBirthDay="birthDay",a.gender=ko.observable("m"),a.errorGender=ko.observable(null),a.cssRegistrationDataForm="personal_information_"+EventDispatcher.HashCode((new Date).getTime().toString()),a.submitEvent=ko.observable(),a.AddContent=function(r){r.err||(a.gender(r.gender),a.lastName(r.f_name),a.firstName(r.s_name),a.middleName(r.m_name),a.birthDay(r.birth_day))},a.SubmitForm=function(){r()&&EventDispatcher.DispatchEvent(a.submitEvent(),a)}};