var ModalMessageWidget=function(e,n,i,o,t){function s(){d(),a(),l()}function a(){var e=M.GetInputParameters("modalMessage");$.isEmptyObject(e)||(f=M.UpdateSettings1(f,e)),Config.ModalMessage=f}function d(){M.AddEvent("w.change.route",function(){M.WidgetLoader(!0)})}function l(){M.BaseLoad.Tmpl(f.tmpl,function(){m()})}function m(){var e=r(n);g(e),u(e)}function c(e){var n=$("#"+e.idWindow);n.length>0?n.children().remove():$("body").append($('<div id="'+e.idWindow+'"></div>'))}function g(n){c(n),$("#"+n.idWindow).html($("script#"+M.GetTmplName1(f,e)).html())}function r(){return new ModalMessageViewModel(n,i,o,t)}function u(e){M.RenderTemplate(e,f,function(){t&&setTimeout(function(){e.Click.Close()},Config.Base.timeMessage)},function(e){g(e),u(e)},function(){c(e)},null,e.idWindow)}var M=this;M.widgetName="ModalMessageWidget",M.version=1,M.minWidgetVersion=1,M.maxWidgetVersion=2,M.minTmplVersion=1,M.maxTmplVersion=2,M.InitWidget=s;var f={tmpl:{path:"modalMessageTmpl.html",id:{confirm:"modalMessageConfirmTmpl",success:"modalMessageSuccessTmpl",error:"modalMessageErrorTmpl",message:"modalMessageMessageTmpl"}},animate:"function"==typeof AnimateModalMessage?AnimateModalMessage:null}},ModalMessageViewModel=function(e,n,i){var o=this;o.message=ko.observable(e),o.idWindow="pokupoModalMessage",o.Click={Close:function(){$("#"+o.idWindow).remove()},Confirm:function(){n&&n(),o.Click.Close()},NotConfirm:function(){i&&i(),o.Click.Close()},GetMessage:function(){n&&n(o.message()),o.Click.Close()}}},TestModalMessage={Init:function(){"function"==typeof Widget?ModalMessageWidget.prototype=new Widget:setTimeout(function(){TestModalMessage.Init()},100)}};TestModalMessage.Init();