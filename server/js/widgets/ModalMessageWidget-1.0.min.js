var ModalMessageWidget=function(l,p,k,n,h){var o=this;o.widgetName="ModalMessageWidget";o.version=1;o.minWidgetVersion=1;o.maxWidgetVersion=2;o.minTmplVersion=1;o.maxTmplVersion=2;o.InitWidget=f;var d={tmpl:{path:"modalMessageTmpl.html",id:{confirm:"modalMessageConfirmTmpl",success:"modalMessageSuccessTmpl",error:"modalMessageErrorTmpl",message:"modalMessageMessageTmpl"}},animate:typeof AnimateModalMessage=="function"?AnimateModalMessage:null};function f(){m();a();j()}function a(){var q=o.GetInputParameters("modalMessage");if(!$.isEmptyObject(q)){d=o.UpdateSettings1(d,q)}Config.ModalMessage=d}function m(){o.AddEvent("w.change.route",function(q){o.WidgetLoader(true)})}function j(){o.BaseLoad.Tmpl(d.tmpl,function(){i()})}function i(){var q=c(p);g(q);e(q)}function b(r){var q=$("#"+r.idWindow);if(q.length>0){q.children().remove()}else{$("body").append($('<div id="'+r.idWindow+'"></div>'))}}function g(q){b(q);$("#"+q.idWindow).html($("script#"+o.GetTmplName1(d,l)).html())}function c(){return new ModalMessageViewModel(p,k,n,h)}function e(q){o.RenderTemplate(q,d,function(){if(h){setTimeout(function(){q.Click.Close()},Config.Base.timeMessage)}},function(r){g(r);e(r)},function(){b(q)},null,q.idWindow)}};var ModalMessageViewModel=function(e,a,d,c){var b=this;b.message=ko.observable(e);b.idWindow="pokupoModalMessage";b.Click={Close:function(){$("#"+b.idWindow).remove()},Confirm:function(){if(a){a()}b.Click.Close()},NotConfirm:function(){if(d){d()}b.Click.Close()},GetMessage:function(){if(a){a(b.message())}b.Click.Close()}}};var TestModalMessage={Init:function(){if(typeof Widget=="function"){ModalMessageWidget.prototype=new Widget()}else{setTimeout(function(){TestModalMessage.Init()},100)}}};TestModalMessage.Init();