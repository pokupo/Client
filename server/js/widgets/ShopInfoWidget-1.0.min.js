var ShopInfoWidget=function(){function o(){n(),t(),s()}function n(){var o=p.GetInputParameters("shopInfo");$.isEmptyObject(o)||(h=p.UpdateSettings1(h,o),o.show&&(o.show.hasOwnProperty("logo")&&(h.show.logo=o.show.logo),o.show.hasOwnProperty("title")&&(h.show.title=o.show.title))),Config.ShopInfo=h}function t(){p.AddEvent("w.change.route",function(){s()})}function e(){p.ClearContainer(h)}function i(){p.InsertContainer(h)}function s(){p.BaseLoad.Tmpl(h.tmpl,function(){p.BaseLoad.ShopInfo(function(o){i();var n=new ShopInfoViewModel(o,h);f(n)})})}function f(o){p.RenderTemplate(o,h,null,function(o){i(),f(o)},function(){e()})}var p=this;p.widgetName="ShopInfoWidget",p.version=1,p.minWidgetVersion=1,p.maxWidgetVersion=2,p.minTmplVersion=1,p.maxTmplVersion=2,p.InitWidget=o;var h={container:{widget:"shopInfoWidgetId",def:"defaultShopInfoWidgetId"},defaultLogo:"//seller.pokupo.ru/images/logos/shop/1.png",show:{logo:!0,title:!0},tmpl:{path:"shopInfoTmpl.html",id:"shopInfoTmpl"},animate:"function"==typeof AnimateShopInfo?AnimateShopInfo:null}},ShopInfoViewModel=function(o,n){var t=this;t.logo=n.defaultLogo,o.id_logo_shop&&(t.logo=o.id_logo_shop),t.name=o.name_shop,t.link=o.site_shop,t.showLogo=n.show.logo,t.showTitle=n.show.title},TestShopInfo={Init:function(){if("function"==typeof Widget){ShopInfoWidget.prototype=new Widget;var o=new ShopInfoWidget;o.Init(o)}else setTimeout(function(){TestShopInfo.Init()},100)}};TestShopInfo.Init();