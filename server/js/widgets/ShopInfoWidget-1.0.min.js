var ShopInfoWidget=function(){var i=this;i.widgetName="ShopInfoWidget";i.version=1;i.minWidgetVersion=1;i.maxWidgetVersion=2;i.minTmplVersion=1;i.maxTmplVersion=2;i.InitWidget=g;var d={container:{widget:"shopInfoWidgetId",def:"defaultShopInfoWidgetId"},defaultLogo:"//seller.pokupo.ru/images/logos/shop/1.png",show:{logo:true,title:true},tmpl:{path:"shopInfoTmpl.html",id:"shopInfoTmpl"},animate:typeof AnimateShopInfo=="function"?AnimateShopInfo:null};function g(){b();h();e()}function b(){var j=i.GetInputParameters("shopInfo");if(!$.isEmptyObject(j)){d=i.UpdateSettings1(d,j);if(j.show){if(j.show.hasOwnProperty("logo")){d.show.logo=j.show.logo}if(j.show.hasOwnProperty("title")){d.show.title=j.show.title}}}Config.Containers.shopInfo=d.container}function h(){i.AddEvent("w.change.route",function(j){e()})}function a(){i.ClearContainer(d)}function c(){i.InsertContainer(d)}function e(){i.BaseLoad.Tmpl(d.tmpl,function(){i.BaseLoad.ShopInfo(function(j){c();var k=new ShopInfoViewModel(j,d);f(k)})})}function f(j){i.RenderTemplate(j,d,null,function(k){c();f(k)},function(){a()})}};var ShopInfoViewModel=function(c,b){var a=this;a.logo=b.defaultLogo;if(c.id_logo_shop){a.logo=c.id_logo_shop}a.name=c.name_shop;a.link=c.site_shop;a.showLogo=b.show.logo;a.showTitle=b.show.title};var TestShopInfo={Init:function(){if(typeof Widget=="function"){ShopInfoWidget.prototype=new Widget();var a=new ShopInfoWidget();a.Init(a)}else{setTimeout(function(){TestShopInfo.Init()},100)}}};TestShopInfo.Init();